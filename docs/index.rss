<?xml version="1.0" encoding="utf-8"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>gruszka.dev</title><link>http://</link><description>Things I would like to share</description><pubDate>Fri, 19 Sep 2025 00:00:00 GMT</pubDate><lastBuildDate>Fri, 19 Sep 2025 13:58:48 GMT</lastBuildDate><generator>marmite</generator><item><title>Metryki RED â€“ prosty sposÃ³b na zrozumienie zdrowia systemu</title><link>http:///red-metrics.html</link><category>metrics</category><category>devops</category><guid>http:///red-metrics.html</guid><pubDate>Fri, 19 Sep 2025 00:00:00 GMT</pubDate><source url="http://">index</source><content:encoded><![CDATA[<p>Monitorowanie systemÃ³w rozproszonych, mikroserwisÃ³w czy aplikacji webowych moÅ¼e wydawaÄ‡ siÄ™ trudne. W praktyce jednak nie zawsze potrzebujemy zaawansowanych, skomplikowanych narzÄ™dzi â€“ czasami wystarczy prosty model, ktÃ³ry pomoÅ¼e nam oceniÄ‡, czy wszystko dziaÅ‚a jak naleÅ¼y.</p>
<p>Jednym z takich modeli sÄ… metryki RED:</p>
<ul>
<li>Rate â€“ liczba Å¼Ä…daÅ„ na sekundÄ™</li>
<li>Errors â€“ liczba bÅ‚Ä™dÃ³w na sekundÄ™</li>
<li>Duration â€“ czas trwania Å¼Ä…daÅ„</li>
</ul>
<p>Brzmi prosto? Bo takie wÅ‚aÅ›nie ma byÄ‡ ğŸ™‚</p>
<h2><a href="#rate--ile-Å¼Ä…daÅ„-przetwarza-twÃ³j-system" aria-hidden="true" class="anchor" id="rate--ile-Å¼Ä…daÅ„-przetwarza-twÃ³j-system"></a>Rate â€“ ile Å¼Ä…daÅ„ przetwarza twÃ³j system</h2>
<p>Pierwsza metryka mÃ³wi nam, jak bardzo &quot;obciÄ…Å¼ony&quot; jest system. To po prostu tempo obsÅ‚ugi Å¼Ä…daÅ„.</p>
<p>MoÅ¼esz na przykÅ‚ad sprawdziÄ‡:</p>
<pre><code class="language-bash">requests_per_second = total_requests / observation_time
</code></pre>
<p>Dlaczego to waÅ¼ne?</p>
<ul>
<li>pozwala zauwaÅ¼yÄ‡ skoki ruchu,</li>
<li>uÅ‚atwia planowanie pojemnoÅ›ci systemu,</li>
<li>pokazuje, czy system w ogÃ³le przyjmuje Å¼Ä…dania (bo jeÅ›li tempo nagle spada do zera, to mamy problem ğŸ˜‰).</li>
</ul>
<h2><a href="#errors--jakie-bÅ‚Ä™dy-pojawiajÄ…-siÄ™-w-systemie" aria-hidden="true" class="anchor" id="errors--jakie-bÅ‚Ä™dy-pojawiajÄ…-siÄ™-w-systemie"></a>Errors â€“ jakie bÅ‚Ä™dy pojawiajÄ… siÄ™ w systemie</h2>
<p>Nie wystarczy wiedzieÄ‡, ile Å¼Ä…daÅ„ trafia do aplikacji â€“ trzeba teÅ¼ wiedzieÄ‡, ile z nich koÅ„czy siÄ™ niepowodzeniem.</p>
<pre><code class="language-bash">error_rate = failed_requests / total_requests
</code></pre>
<p>MonitorujÄ…c bÅ‚Ä™dy, zwrÃ³Ä‡ uwagÄ™ na:</p>
<ul>
<li>nagÅ‚e skoki bÅ‚Ä™dÃ³w 5xx (problem po stronie serwera),</li>
<li>bÅ‚Ä™dy 4xx (np. niepoprawne dane wejÅ›ciowe),</li>
<li>nietypowe kody statusu, ktÃ³re mogÄ… oznaczaÄ‡ problemy w logice aplikacji.</li>
</ul>
<p>DziÄ™ki tej metryce bardzo szybko dowiesz siÄ™, czy system dziaÅ‚a poprawnie â€“ nawet jeÅ›li nadal odpowiada na Å¼Ä…dania.</p>
<h2><a href="#duration--ile-trwa-obsÅ‚uga-Å¼Ä…dania" aria-hidden="true" class="anchor" id="duration--ile-trwa-obsÅ‚uga-Å¼Ä…dania"></a>Duration â€“ ile trwa obsÅ‚uga Å¼Ä…dania</h2>
<p>Trzecia metryka dotyczy czasu reakcji. UÅ¼ytkownik moÅ¼e nie zauwaÅ¼yÄ‡, Å¼e serwer obsÅ‚uÅ¼yÅ‚ milion Å¼Ä…daÅ„ â€“ ale na pewno zauwaÅ¼y, jeÅ›li kaÅ¼da strona Å‚aduje siÄ™ 5 sekund.</p>
<p>Dlatego mierzymy:</p>
<pre><code class="language-bash">avg_duration = total_time / total_requests
</code></pre>
<p>MoÅ¼esz teÅ¼ Å›ledziÄ‡ percentyle (np. P95, P99), Å¼eby zobaczyÄ‡, jak wyglÄ…da doÅ›wiadczenie wiÄ™kszoÅ›ci uÅ¼ytkownikÃ³w, a nie tylko Å›rednia.</p>
<h2><a href="#dlaczego-red-dziaÅ‚a-tak-dobrze" aria-hidden="true" class="anchor" id="dlaczego-red-dziaÅ‚a-tak-dobrze"></a>Dlaczego RED dziaÅ‚a tak dobrze?</h2>
<p>Bo te trzy proste metryki wystarczÄ…, Å¼eby odpowiedzieÄ‡ na kluczowe pytania:</p>
<ul>
<li>czy mÃ³j system dziaÅ‚a? (Rate)</li>
<li>czy dziaÅ‚a poprawnie? (Errors)</li>
<li>czy dziaÅ‚a wystarczajÄ…co szybko? (Duration)</li>
</ul>
<p>Nie potrzebujesz od razu setek wskaÅºnikÃ³w ani skomplikowanych dashboardÃ³w â€“ wystarczy RED jako podstawa monitoringu.</p>
<p>Jak widzisz, metryki RED sÄ… proste i jednoczeÅ›nie skuteczne ğŸ™‚
JeÅ›li wprowadzisz je do swojego systemu, bÄ™dziesz miaÅ‚ zawsze jasny obraz tego, co siÄ™ dzieje â€“ niezaleÅ¼nie od tego, jak skomplikowana jest twoja architektura.</p>
]]></content:encoded></item><item><title>Operacje bitowe</title><link>http:///operacje-bitowe.html</link><category>code</category><guid>http:///operacje-bitowe.html</guid><pubDate>Fri, 19 Jun 2020 00:00:00 GMT</pubDate><source url="http://">index</source><content:encoded><![CDATA[<p>Operacje bitowe sÄ… wygodnÄ… formÄ… manipulowania danymi.</p>
<p>WyobraÅº sobie, Å¼e jesteÅ› programistÄ… i masz za zadanie napisac waÅ¼ny element systemu operacyjnego. Powiedziano Ci, Å¼e moÅ¼esz uÅ¼ywaÄ‡ zmiennej przypisanej w nastÄ™pujÄ…cy sposÃ³b:</p>
<pre><code class="language-python">flagRegister = 0x1234
</code></pre>
<p>Zmienna przechowuje informacje o rÃ³Å¼nych aspektach dziaÅ‚ania systemu. KaÅ¼dy bit zmiennej przechowuje jednÄ… wartoÅ›Ä‡ 0 / 1. Powiedziano Ci rÃ³wnieÅ¼, Å¼e tylko jeden z tych bitÃ³w naleÅ¼y do Ciebie - trzeci (bity sÄ… ponumerowane od zera; bit numer zero jest najniÅ¼szy, a najwyÅ¼szy to 31). PozostaÅ‚e bity nie mogÄ… siÄ™ zmieniaÄ‡, poniewaÅ¼ sÄ… przeznaczone do przechowywania innych danych. Oto twÃ³j bit oznaczony literÄ… x â†’</p>
<p><code>flagRegister: 0000000000000000000000000000x000</code></p>
<p>Oto co moÅ¼esz zrobic wykorzystujÄ…c operacje bitowe:</p>
<ul>
<li>
<p>sprawdÅº stan swojego bitu - chcesz poznaÄ‡ wartoÅ›Ä‡ swojego bitu; moÅ¼esz uÅ¼yÄ‡ nastÄ™pujÄ…cej wÅ‚aÅ›ciwoÅ›ci koniunkcji:</p>
<p><code>x &amp; 1 = x</code></p>
<p><code>x &amp; 0 = 0</code></p>
<p>JeÅ›li zastosujesz operacjÄ™ &amp; do zmiennej <code>flagRegister</code> wraz z nastÄ™pujÄ…cym obrazem bitowym:
<code>0000000000000000000000000000001000</code>
(zwrÃ³Ä‡ uwagÄ™ na 1 na pozycji bitu, ktÃ³ry CiÄ™ interesuje), w wyniku czego otrzymujesz jeden z nastÄ™pujÄ…cych ciÄ…gÃ³w bitÃ³w:</p>
<p><code>0000000000000000000000000000001000</code>, jeÅ›li twÃ³j bit zostaÅ‚ ustawiony na 1</p>
<p><code>0000000000000000000000000000000000</code>, jeÅ›li twÃ³j bit zostaÅ‚ ustawiony na 0</p>
<p>Taka sekwencja zer i jedynek, ktÃ³rych zadaniem jest przechwycenie wartoÅ›ci lub zmiana wybranych bitÃ³w, nazywa siÄ™ maskÄ… bitowÄ…. Zbudujmy maskÄ™ bitowÄ…, aby wykryÄ‡ stan twojego bitu. Dla przypomnienia - jest to trzeci bit liczÄ…c od prawej (1000), czyli w tym przypadku 8. OdpowiedniÄ… maskÄ™ moÅ¼na utworzyÄ‡ na podstawie nastÄ™pujÄ…cej deklaracji:</p>
<pre><code class="language-python">mask = 8
</code></pre>
<p>MoÅ¼esz wykonaÄ‡ sekwencjÄ™ instrukcji w zaleÅ¼noÅ›ci od stanu twojego bitu:</p>
<pre><code class="language-python">if flagRegister &amp; mask:
    # my bit is set
else:
    # my bit is reset
</code></pre>
</li>
<li>
<p>zresetuj swÃ³j bit - przypisujesz zero do swojego bitu, podczas gdy wszystkie inne bity pozostajÄ… niezmienione; uÅ¼yjmy tej samej wÅ‚aÅ›ciwoÅ›ci koniunkcji, co poprzednio, ale uÅ¼yjmy nieco innej maski - dokÅ‚adnie tak jak poniÅ¼ej:
111111111111111111111111111111<strong>0</strong>111</p>
<p>ZauwaÅ¼, Å¼e maska zostaÅ‚a utworzona w wyniku zanegowania wszystkich bitÃ³w zmiennej <code>mask</code>. Resetowanie bitu jest proste i wyglÄ…da tak:</p>
<pre><code class="language-python">flagRegister = flagRegister &amp; ~mask
</code></pre>
<pre><code class="language-python">flagRegister &amp;= ~mask
</code></pre>
</li>
<li>
<p>ustaw swÃ³j bit - przypisujesz 1 do swojego bitu, podczas gdy wszystkie pozostaÅ‚e bity muszÄ… pozostaÄ‡ niezmienione; uÅ¼yj nastÄ™pujÄ…cej wÅ‚aÅ›ciwoÅ›ci rozÅ‚Ä…czenia:</p>
<p><code>x | 1 = 1</code></p>
<p><code>x | 0 = x</code></p>
<p>Teraz moÅ¼esz ustawiÄ‡ swÃ³j bit, wykonujÄ…c jednÄ… z poniÅ¼szych instrukcji:</p>
<pre><code class="language-python">flagRegister = flagRegister | mask
</code></pre>
<pre><code class="language-python">flagRegister |= mask
</code></pre>
</li>
<li>
<p>Zaneguj swÃ³j bit - zamieniasz 1 na 0, a 0 na 1. MoÅ¼esz uÅ¼yÄ‡ interesujÄ…cej wÅ‚aÅ›ciwoÅ›ci operatora xor:</p>
<p><code>x ^ 1 = ~ x</code></p>
<p><code>x ^ 0 = x</code></p>
<p>Zaneguj swÃ³j bit, wykonujÄ…c poniÅ¼sze instrukcje:</p>
<pre><code class="language-python">flagRegister = flagRegister ^ mask
</code></pre>
<pre><code class="language-python">flagRegister ^= mask
</code></pre>
</li>
</ul>
<p>Jak widzisz operacje bitowe sÄ… proste i jednoczeÅ›nie efektywne :)</p>
]]></content:encoded></item><item><title>Clean Code</title><link>http:///cleancode.html</link><category>cleancode</category><guid>http:///cleancode.html</guid><pubDate>Sun, 10 May 2020 00:00:00 GMT</pubDate><source url="http://">index</source><content:encoded><![CDATA[<p>Pisanie czystego kodu nie jest Å‚atwe i kaÅ¼dy, kto napisaÅ‚ trochÄ™ kodu w swoim Å¼yciu wie co mam na myÅ›li.</p>
<p>Jestem obecnie na etapie lektury (a wÅ‚aÅ›ciwie powrotu do) &quot;Clean Code&quot; Uncle Boba. ChciaÅ‚bym wypunktowaÄ‡ parÄ™ rzeczy, ktÃ³re znalazÅ‚y siÄ™ w ksiÄ…Å¼ce i warto o nich pamiÄ™taÄ‡. KrÃ³tko i zwiÄ™Åºle:</p>
<ul>
<li>niech nazwy przedstawiajÄ… intencje i komunikujÄ… do czego sÄ… przeznaczone</li>
<li>unikanie dezinformacji (np. unikanie skrÃ³tÃ³w)
<pre><code class="language-php">$criteria zamiast $c
</code></pre>
</li>
<li>nie uÅ¼ywamy magicznych liczb
<pre><code class="language-php">if($counter === 12)
</code></pre>
lepiej
<pre><code class="language-php">if($counter === ALLOWED_ENTRIES)
</code></pre>
</li>
<li>nie stosujemy notacji wÄ™gierskiej
<pre><code class="language-php">$strFirstName
</code></pre>
lepiej:
<pre><code class="language-php">$firstName
</code></pre>
</li>
<li>nie stosujemy prefiksu lub postfiksu <code>Interface</code>. Interfejs jest tylko abstrakcjÄ…
<pre><code class="language-php">interface CsvWriterInterface
</code></pre>
lepiej:
<pre><code class="language-php">interface CsvWriter
</code></pre>
</li>
<li>to Å¼e Ty wiesz, Å¼e zmienna <strong><code>r</code></strong> znaczy coÅ›, nie znaczy, Å¼e ktoÅ› inny jak bÄ™dzie to czytaÅ‚, to bÄ™dzie teÅ¼ to wiedziaÅ‚</li>
<li>nazwy klas powinny byÄ‡ rzeczownikami lub wyraÅ¼eniami rzeczownikowymi
<pre><code class="language-php">class User {}
</code></pre>
</li>
<li>nazwy metod powinny byÄ‡ czasownikami lub wyraÅ¼eniami czasownikowymi
<pre><code class="language-php">function login() {}
</code></pre>
</li>
<li>akcesory, mutatory i predykaty powinny byÄ‡ poprzedzone przedrostkiem get, set, is</li>
<li>bÄ™dÅº spÃ³jny w ramach bazy kodu - np. fetch, retrieve, get do analogicznych metod w rÃ³znych klasach</li>
<li>dodaj znaczÄ…cy kontekst - wiele nazw nie niesie za sobÄ… wystarczajÄ…co treÅ›ci - konieczne jest umieszczenie nazw we wÅ‚aÅ›ciwym kontekÅ›cie przez wstawienie ich w odpowiednio nazwane klasy, funkcje i przestrzenie nazw</li>
<li>nie prefiksujemy nazw ogÃ³lnoznanym terminem np. &quot;Luksusowa Stacja Benzynowa&quot; uÅ¼ywamy w nazwach jako LSBCustomer</li>
<li>twÃ³rz maÅ‚e funkcje max. 20-30 wierszy</li>
<li>bloki w instrukcjach if, else, while i podobnych powinny mieÄ‡ po jednym wierszu i prawdopodobnie wiersze te powinny byÄ‡ wywoÅ‚aniem funkcji; oznacza to Å¼e funkcja nie moÅ¼e byÄ‡ na tyle duÅ¼a, aby zawieraÅ‚a zagnieÅ¼dzone struktury, dlatego poziom wciÄ™Ä‡ w funkcji nie powinien przekraczaÄ‡ dwÃ³ch.</li>
<li>funkcje powinny wykonywaÄ‡ tylko jednÄ… operacjÄ™, powinny robiÄ‡ to dobrze. powinny robiÄ‡ tylko to.</li>
<li>dÅ‚uga opisowa nazwa jest lepsza niÅ¼ krÃ³tka enigmatyczna</li>
<li>im mniej parametrÃ³w przekazywanych do funkcji tym lepiej (najlepiej zero), moÅ¼e trzeba je wydzieliÄ‡ jako parametry klasy</li>
<li>gdy funkcja wymaga wiÄ™cej niÅ¼ dwÃ³ch lub trzech argumentÃ³w, najprawdopodobniej niektÃ³re z nich powinny byÄ‡ umieszczone w osobnej klasie.</li>
<li>jeÅ›li funkcja musi zmieniaÄ‡ stan czegokolwiek, powinna zmieniaÄ‡ stan wÅ‚asnego obiektu</li>
<li>rozdzielanie poleceÅ„ i zapytaÅ„ (funkcje powinny coÅ› wykonywaÄ‡ lub odpowiadaÄ‡ na jakieÅ› pytanie, ale nie powinny robiÄ‡ tych dwÃ³ch operacji jednoczeÅ›nie)</li>
<li>powinniÅ›my stosowaÄ‡ wyjÄ…tki zamiast obsÅ‚ugi bÅ‚Ä™dÃ³w</li>
</ul>
]]></content:encoded></item></channel></rss>